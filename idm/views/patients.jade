extends layout

block content
  .center
  table.pure-table
    thead
      tr
        th 
        th SSSID
        th Participant
        th Created
        th Changed
        th 
        th 

    tbody#patients
      tr
        td(colspan='7')
          p loading patients...

  script(id='tmpl_row', type='x-tmpl-mustache').
    <tr>
      <td class="patient_status">
        <div class="status{{ status }}"></div><br>
        {{ human_status }}
      </td>
      <td class="sssid">{{ sssid }}</td>
      <td>
        <div class="patient_name">{{ name }}</div>
        {{#email}}<a class="patient_email" href="mailto:{{ email }}">{{ email }}</a>{{/email}}
      </td>
      <td>{{ createdDate }}</td>
      <td>{{ changedDate }}</td>
      <td class="action">
        <a href="/mail/\#{{ sssid }}"><i class="fa fa-envelope{{#status}}-o{{/status}}"></i></a>
      </td>
      <td class="action">
        <a href="/patients/{{ sssid }}"><i class="fa fa-arrow-circle-right"></i></a>
      </td>
    </tr>

block scripts
  script(src="javascripts/patients.js")
  script.
    $(document).ready(function() {
      getPatients();
    });
